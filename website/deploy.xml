<page
    name = "deploy"
    title = "Deployment"
    subtitle = "Running Your Server"
    >
<content type = "gurudoc">

Required Files
**************

The OpenAMQ server is installed into the $IBASE/bin directory.  If
you wish to move the server elsewhere (e.g. to a different machine),
you need to copy these files:

 - amq_server (on Windows, amq_server.exe)
 - amq_server_base.cfg
 - amq_console_schema.cml

No other files are required.

Running the Server
******************

To start the server in a console window run this command:

    amq_server

To stop the server, press Ctrl-C or use the kill command (on Windows,
the Task Manager).

On Unix/Linux you can run the server as a detached binary process
using this command:

    amq_server -b

To see the current version of the server, type this command:

    amq_server -v

To see a short list of all server options, type this command:

    amq_server -h

If you want to run several instances of the server on the same machine
you must start them on different ports.  The default AMQP port is 5672.
To start the server on a different port, type this command:

    amq_server --port !portnumber!

To see a long list of all server options, with full explanations,
type this command:

    amq_server --help

Under Win32 you can use the *srvany* tool (part of the Windows Resource
Kit) to register amq_server as a service.

Working Directories
*******************

It is best to start amq_server in a specific working directory which
has appropriate permissions.  You can start many instances of the server
in the same directory.  The server will create two subdirectories:

 - logs, in which the server will create current log files.
 - archive, to which the server will move old (yesterday's) log files.

</content>
</page>
