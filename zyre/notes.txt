Zyre issues

    how to get replies from services
        digest-amqp is case here
        need a reply queue name, which comes back to us
        backend module provides us with reply queue name
        creates queue
        can it put queue name on reply-to property?
            - yes, optionally
        can it provide us with the reply-to property?
            - yes, via async portal method
        -> create private queue at startup
        -> return that to caller via reply-to method

    - allow whitelisting of ip addresses
        - proxies, etc.
    - access_whitelist module
        - kill any error from previous modules?

    - messages delivered repeatedly
        testcase is digest_amqp_service.pl starting on clean zyre
        -> same pipe & nozzle
        -> maybe limit on number of deliveries?
        -> name pipe after ip address
            -> won't work via proxies...

    - messages not delivered reliable
        testcase is digest_amqp_service.pl restarting on zyre
        -> always new pipes
        -> clients need to cache pipe names & reuse
        -> generated pipe names guaranteed unique
        -> ip address of last client using pipe



RestMS
    - need to get all feeds from AMQP broker
    - a feed is:
        - shared queue
        - bound to amq.direct with same routing key
        -> enquire list of feeds
        -> get notifications of new feeds
        -> get notifications of deleted feeds
    - process/ignore returned messages
    - post to feed always MANDATORY
    - test scenario is Digest-AMQP client-Restms, service-AMQP
    - would be easier with options to basic.publish

- restms.digistan.org microsite
-> restms.org template
-> restms@digistan.org email list
-> examples, wiki, implementations


define pipe that sends messages back to feed
    - allows proxy selection, macroisation

define fair queue mechanism that takes input from several feeds but fairly
    - implement natively in openamq?
    - ...?

stream pipe
nozzles on post messages too
    post to nozzle - idempotent
    post to nozzle - idempotent
    delete nozzle


implement exchange logic in zyre and do federation


config
    amqp server name
    amqp server login and password
    client logins
        - basic auths
        - not same as openamq credentials

- if-modified-since
- cache-control
- last-modified-time

=====

Not supported:

* Does not allow binding arguments (headers) yet.

RESTful extensions to AMQP
    - RestMS protocol class
    - * in topics matches empty routing-key
    - empty topic segments are allowed (".value")
    - Basic.Consume is assertive, idempotent
        - note that must not allow same tag on different queues
        -> Subsumed in restms protocol class
    - Queue.Declare private queues are scoped per connection
        - names uniquified on server, automatically
        - in declare, consume, cancel, bind, delete
        -> This is not implemented in OpenAMQ yet but should be
        -> Subsumed in restms protocol class
    - Queue.Delete is assertive
        - if queue does not exist, still returns Delete-Ok
        -> Subsumed in restms protocol class
