<?xml?>
<pdl
    name      = "OpenAMQ COM Win32 Client"
    version   = "0.8d7"
    copyright = "Copyright (c) 2004-2005 JPMorgan"
    deploy    = "openamq/clients"
    >

<include filename = "prelude.pdl" />

<file name = "amq.gsl"           class = "private resource" >Main generator</file>
<file name = "amq.xml"           class = "private resource" >Component definitions</file>
<file name = "axobj.gsl"         class = "private resource" >Object generator</file>
<file name = "amq.dll"           class = "shared library"
                                 target = "win32"           >AMQ client DLL</file>
<actions target = "win32">
    <generate>
        <execute>
        gsl amq.gsl
        </execute>
    </generate>
    <build>
      <execute>
        :- currently COM build is broken on MSDEV
        if not defined VS71COMNTOOLS (
            call boomvs --where=. --using=amq --target=amq build
        )
      </execute>
    </build>
    <clean>
      <execute>
        :- currently COM build is broken on MSDEV
        if not defined VS71COMNTOOLS (
            call boomvs --where=. --using=amq --target=amq clean
        )
        del *.c *.h *.cpp *.ds* *.rgs *.def *.rc *.plg *.idl
      </execute>
    </clean>
</actions>

</pdl>
