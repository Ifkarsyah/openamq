<?xml?>
<pal
    name   = "amq_queue_04"
    script = "amq_pal_gen"
    desc   = "Declare a queue which is exclusive and test is cannot be used in another connection"
    >
    This test sets up a session where an exclusive queue is created. Then te
    session is reastablished using a new connection. The queue created should
    not be accessible from the new session.
    
    <include filename = "amq_test_base.pal" />
    <session>
        <queue_declare queue = "myqueue" exclusive = "1" />
    </session>
    <session restart = "1" error_handling = "recover">
        <queue_declare queue = "myqueue" passive = "1" />
        <assert name = "reply_code" value = "506" />
    </session>
</pal>


