<?xml?>
<pal
    name   = "amq_exchange_05"
    script = "amq_pal_gen"
    desc   = "Test the exchange passive declaration and response"
    >
    This test sets up a session and checks if the declaration of a passive 
    non existant exchange returns a reply_code of 504. Also check a passive
    declaration of an existing exchange does not assert.

    <include filename = "amq_test_base.pal" />
    <session error_handling = "recover">
        <exchange_declare exchange = "myexchange" type = "direct" passive = "1" />
        <assert name = "reply_code" value = "504" />        
        <exchange_declare exchange = "myexchange2" />
        <exchange_declare exchange = "myexchange2" type = "direct" passive = "1" />
    </session>
</pal>


